{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useBooks = searchQuery => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    // Don't fetch if search query is empty\n    if (!searchQuery || searchQuery.trim() === '') {\n      setBooks([]);\n      setLoading(false);\n      setError(null);\n      return;\n    }\n    const fetchBooks = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`https://openlibrary.org/search.json?q=${encodeURIComponent(searchQuery)}`);\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        // Parse response.docs and map to our desired format\n        const mappedBooks = data.docs.map(doc => ({\n          key: doc.key,\n          title: doc.title,\n          author_name: doc.author_name ? doc.author_name[0] : 'Unknown Author',\n          cover_i: doc.cover_i,\n          first_publish_year: doc.first_publish_year\n        }));\n        setBooks(mappedBooks);\n      } catch (err) {\n        setError(err.message);\n        setBooks([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBooks();\n  }, [searchQuery]);\n  return {\n    books,\n    loading,\n    error\n  };\n};\n_s(useBooks, \"0AFQq31NtQP0+BvV/vTuT6Re5MU=\");\nexport default useBooks;","map":{"version":3,"names":["useState","useEffect","useBooks","searchQuery","_s","books","setBooks","loading","setLoading","error","setError","trim","fetchBooks","response","fetch","encodeURIComponent","ok","Error","status","data","json","mappedBooks","docs","map","doc","key","title","author_name","cover_i","first_publish_year","err","message"],"sources":["C:/Users/payal/Desktop/Online Kitap Magazasi/src/hooks/useBooks.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useBooks = (searchQuery) => {\r\n  const [books, setBooks] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Don't fetch if search query is empty\r\n    if (!searchQuery || searchQuery.trim() === '') {\r\n      setBooks([]);\r\n      setLoading(false);\r\n      setError(null);\r\n      return;\r\n    }\r\n\r\n    const fetchBooks = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      try {\r\n        const response = await fetch(\r\n          `https://openlibrary.org/search.json?q=${encodeURIComponent(searchQuery)}`\r\n        );\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        // Parse response.docs and map to our desired format\r\n        const mappedBooks = data.docs.map(doc => ({\r\n          key: doc.key,\r\n          title: doc.title,\r\n          author_name: doc.author_name ? doc.author_name[0] : 'Unknown Author',\r\n          cover_i: doc.cover_i,\r\n          first_publish_year: doc.first_publish_year\r\n        }));\r\n        \r\n        setBooks(mappedBooks);\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setBooks([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBooks();\r\n  }, [searchQuery]);\r\n\r\n  return { books, loading, error };\r\n};\r\n\r\nexport default useBooks; "],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,QAAQ,GAAIC,WAAW,IAAK;EAAAC,EAAA;EAChC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACE,WAAW,IAAIA,WAAW,CAACQ,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MAC7CL,QAAQ,CAAC,EAAE,CAAC;MACZE,UAAU,CAAC,KAAK,CAAC;MACjBE,QAAQ,CAAC,IAAI,CAAC;MACd;IACF;IAEA,MAAME,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7BJ,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MAEd,IAAI;QACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAC1B,yCAAyCC,kBAAkB,CAACZ,WAAW,CAAC,EAC1E,CAAC;QAED,IAAI,CAACU,QAAQ,CAACG,EAAE,EAAE;UAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBJ,QAAQ,CAACK,MAAM,EAAE,CAAC;QAC3D;QAEA,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;;QAElC;QACA,MAAMC,WAAW,GAAGF,IAAI,CAACG,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;UACxCC,GAAG,EAAED,GAAG,CAACC,GAAG;UACZC,KAAK,EAAEF,GAAG,CAACE,KAAK;UAChBC,WAAW,EAAEH,GAAG,CAACG,WAAW,GAAGH,GAAG,CAACG,WAAW,CAAC,CAAC,CAAC,GAAG,gBAAgB;UACpEC,OAAO,EAAEJ,GAAG,CAACI,OAAO;UACpBC,kBAAkB,EAAEL,GAAG,CAACK;QAC1B,CAAC,CAAC,CAAC;QAEHvB,QAAQ,CAACe,WAAW,CAAC;MACvB,CAAC,CAAC,OAAOS,GAAG,EAAE;QACZpB,QAAQ,CAACoB,GAAG,CAACC,OAAO,CAAC;QACrBzB,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,SAAS;QACRE,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDI,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACT,WAAW,CAAC,CAAC;EAEjB,OAAO;IAAEE,KAAK;IAAEE,OAAO;IAAEE;EAAM,CAAC;AAClC,CAAC;AAACL,EAAA,CAnDIF,QAAQ;AAqDd,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}